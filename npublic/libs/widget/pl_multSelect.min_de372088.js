"use strict";!function(s){function e(t,e){this.ele=t,this.defaults={mult:!1},this.options=s.extend({},this.defaults,e),this.result=[]}e.prototype={init:function(){this.pubFunction(),this.initOption(),this.closeSelectEvent(),this.addEvent()},closeSelectEvent:function(){var e;this.options.disabled||((e=this).ele.find(".inputWrap").on("click",function(t){t.stopPropagation(),e.ele.find(".inputWrap>i").hasClass("fa-down")?(e.ele.find(".inputWrap>i").removeClass("fa-down").addClass("fa-up"),e.ele.find(".multSelect-option").css({height:"auto",opacity:"1"})):(e.ele.find(".inputWrap>i").removeClass("fa-up").addClass("fa-down"),e.ele.find(".multSelect-option").css({height:"0",opacity:"0"}))}),s("html").on("click",function(){e.ele.find(".inputWrap>i").removeClass("fa-up").addClass("fa-down"),e.ele.find(".multSelect-option").css({height:"0",opacity:"0"})}))},pubFunction:function(){Array.prototype.contains=function(t){for(var e=this.length;e--;)if(this[e]===t)return e;return!1}},initOption:function(){var t="",e="";this.options.disabled&&(e="disabled"),this.options.placeholder&&(t='<span class="placeholder">'.concat(this.options.placeholder,"</span>"));t='\n                <div class="inputWrap '.concat(e,'">\n                    ').concat(t,'\n                    <ul></ul>\n                    <i class="fa fa-down"><svg t="1605766084284" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2142" width="200" height="200"><path d="M725.333333 127.146667a53.333333 53.333333 0 0 0-75.52 0L295.253333 482.133333a42.496 42.496 0 0 0 0 60.16l354.56 354.56c20.906667 20.906667 54.613333 20.906667 75.52 0s20.906667-54.613333 0-75.52L416.426667 512l309.333333-309.333333c20.48-20.906667 20.48-55.04-0.426667-75.52z" p-id="2143"></path></svg></i>\n                </div>\n            ');this.ele.append(t),this.ele.append('<div class="multSelect-option"></div>');for(var i=0;i<this.options.option.length;i++)this.ele.find(".multSelect-option").append('<div data-value="'+this.options.option[i].value+'"><span>'+this.options.option[i].label+"</span></div>")},addEvent:function(){var e;this.options.disabled||(e=this).ele.find(".multSelect-option").find("div").on("click",function(t){t.stopPropagation(),e.options.mult?(s(this).hasClass("selected")?(s(this).removeClass("selected"),e.result.splice(e.result.contains(s(this).attr("data-value")),1)):(s(this).addClass("selected"),e.result.push(s(this).attr("data-value"))),e.refreshInput()):(s(this).hasClass("selected")?(s(this).removeClass("selected"),e.result=""):(e.ele.find(".multSelect-option").find("div").removeClass("selected"),s(this).addClass("selected"),e.result=s(this).attr("data-value"),e.ele.find(".inputWrap>i").removeClass("fa-up").addClass("fa-down"),e.ele.find(".multSelect-option").css({height:"0",opacity:"0"})),e.refreshInput(s(this).find("span").text())),0<e.result.length?e.ele.find(".placeholder").hide():e.ele.find(".placeholder").show(),e.options.onChange(e.result)})},inputResultRemoveEvent:function(){var e;this.options.disabled||(e=this).ele.find(".inputWrap ul li i").on("click",function(t){t.stopPropagation(),e.result.splice(e.result.contains(s(this).attr("data-value")),1),e.refreshInput(),e.removeOptionStyle(s(this).attr("data-value")),0<e.result.length?e.ele.find(".placeholder").hide():e.ele.find(".placeholder").show(),e.options.onChange(e.result)})},removeOptionStyle:function(t){this.ele.find(".multSelect-option").find("div").each(function(){s(this).attr("data-value")==t&&s(this).removeClass("selected")})},refreshInput:function(t){if(this.ele.find(".inputWrap ul").empty(),this.ele.find(".inputWrap .placeholder").show(),this.options.mult)for(var e=0;e<this.options.option.length;e++)for(var i=0;i<this.result.length;i++)this.result[i]==this.options.option[e].value&&this.ele.find(".inputWrap ul").append("<li><span>"+this.options.option[e].label+'</span><i data-value="'+this.options.option[e].value+'" class="fa-close">x</i></li>');else""==this.result?this.ele.find(".inputWrap ul").empty():this.ele.find(".inputWrap ul").append("<li><span>"+t+"</span>&nbsp;&nbsp;</li>");this.inputResultRemoveEvent()},setResult:function(i){if(this.result=i,this.options.mult)i instanceof Array&&(this.refreshInput(),0<i.length&&this.ele.find(".inputWrap .placeholder").hide(),this.ele.find(".multSelect-option").find("div").each(function(){var t,e=s(this);0==i.length?e.removeClass("selected"):(t=e.attr("data-value"),-1<i.indexOf(t)?e.addClass("selected"):e.removeClass("selected"))}));else{for(var t=0;t<this.options.option.length;t++)this.options.option[t].value==i&&this.refreshInput(this.options.option[t].label);this.ele.find(".multSelect-option").find("div").each(function(){s(this).attr("data-value")==i&&s(this).addClass("selected")})}},getResult:function(){return this.result}},s.fn.multSelect=function(t){t=new e(this,t);return t.init(),t}}(jQuery);